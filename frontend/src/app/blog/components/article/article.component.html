<app-navbar></app-navbar>

<div class="article-container">
  <!-- Cabeçalho do artigo -->
  <header class="article-header">
    <h1 class="article-title">{{ articleData.title }}</h1>
    <div class="article-meta">
      <span>Por {{ articleData.author }} - {{ formattedDate }}</span>
    </div>
    
    <!-- Carousel de imagens -->
    <div class="article-carousel">
      <!-- Botões de navegação flutuantes -->
      <button class="nav-button nav-button-left" (click)="previousImage()" aria-label="Imagem anterior">
        <i class="pi pi-chevron-left"></i>
      </button>
      
      <button class="nav-button nav-button-right" (click)="nextImage()" aria-label="Próxima imagem">
        <i class="pi pi-chevron-right"></i>
      </button>

      <!-- Indicadores flutuantes -->
      <div class="carousel-indicators">
        <button 
            *ngFor="let image of images; let i = index" 
            class="indicator" 
            [class.active]="i === currentImageIndex"
            (click)="goToSlide(i)"
            [attr.aria-label]="'Ir para imagem ' + (i + 1)">
        </button>
      </div>

      <p-carousel #imageCarousel
                  [value]="images" 
                  [numVisible]="1" 
                  [numScroll]="1" 
                  [circular]="true" 
                  [showNavigators]="false" 
                  [showIndicators]="false"
                  [autoplayInterval]="5000"
                  (onPage)="onPageChange($event)">
        <ng-template pTemplate="item" let-image>
          <div class="carousel-item">
            <img [src]="image.src" [alt]="image.alt" class="carousel-image">
          </div>
        </ng-template>
      </p-carousel>
    </div>
  </header>

  <!-- Conteúdo do artigo -->
  <main class="article-content">
    <p *ngFor="let paragraph of articleData.content" class="article-paragraph">
      {{ paragraph }}
    </p>
  </main>

  <!-- Barra inferior -->
  <footer class="article-footer">
    <div class="footer-content">
      <div class="footer-left">
        <!-- Espaço reservado para conteúdo futuro -->
      </div>
      <div class="footer-right">
        <button class="share-button" (click)="shareArticle()" title="Compartilhar artigo">
          <mat-icon>share</mat-icon>
          <span>Compartilhar</span>
        </button>
      </div>
    </div>
  </footer>
</div>
